.include "constants.inc"
.segment "CODE"

.export draw_platform
.proc draw_platform
	PHP
	PHA
	TXA
	PHA
	TYA
	PHA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$68
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$69
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$76
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$77
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$84
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$85
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$9A
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$9B
	STA PPUADDR
	LDX #$30
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$86
	STA PPUADDR
	LDX #$31
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$87
	STA PPUADDR
	LDX #$32
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$A6
	STA PPUADDR
	LDX #$41
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$A7
	STA PPUADDR
	LDX #$42
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$98
	STA PPUADDR
	LDX #$31
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$99
	STA PPUADDR
	LDX #$32
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$B8
	STA PPUADDR
	LDX #$41
	STX PPUDATA

	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	LDA #$B9
	STA PPUADDR
	LDX #$42
	STX PPUDATA


	LDY #$AD

platform:
	LDA PPUSTATUS
	LDA #$21
	STA PPUADDR
	STY PPUADDR
	LDX #$30
	STX PPUDATA
	INY
	CPY #$B3
	BNE platform

	LDY #$08

first_row:
	LDA PPUSTATUS
	LDA #$22
	STA PPUADDR
	STY PPUADDR
	LDX #$30
	STX PPUDATA
	INY
	CPY #$18
	BNE first_row

	LDY #$29

second_row:
	LDA PPUSTATUS
	LDA #$22
	STA PPUADDR
	STY PPUADDR
	LDX #$30
	STX PPUDATA
	INY
	CPY #$37
	BNE second_row

	LDY #$4A 

third_row:
	LDA PPUSTATUS
	LDA #$22
	STA PPUADDR
	STY PPUADDR
	LDX #$30
	STX PPUDATA
	INY
	CPY #$56
	BNE third_row

	LDY #$6C

fourth_row:
	LDA PPUSTATUS
	LDA #$22
	STA PPUADDR
	STY PPUADDR
	LDX #$30
	STX PPUDATA
	INY
	CPY #$74
	BNE fourth_row

	LDY #$8D

fifth_row:
	LDA PPUSTATUS
	LDA #$22
	STA PPUADDR
	STY PPUADDR
	LDX #$30
	STX PPUDATA
	INY
	CPY #$93
	BNE fifth_row

	LDA PPUSTATUS
	LDA #$23
	STA PPUADDR
	LDA #$c2
	STA PPUADDR
	LDA #%01000000
	STA PPUDATA

	LDA PPUSTATUS
	LDA #$23
	STA PPUADDR
	LDA #$e0
	STA PPUADDR
	LDA #%00001100
	STA PPUDATA

	PLA
	TAY
	PLA
	TAX
	PLA
	PLP
	RTS
.endproc
